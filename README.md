# Hotel Revenue Exploratory Data Analysis and Visualization
 This is a Portfolio EDA guided project available on YouTube.

## Introduction
This Hotel Revenue Exploratory Data Analysis project is based on the guided project provided by a Youtube channel named 'Absent Data'. The dataset is provided by the Youtuber. In this project, we will be looking at the revenue generated, parking requirements and other variables.

## Data Exploration using SQL
### Creating Database
We need a database to store our data in the server. Here, I am using MySQL Server and MySQL Workbench to query the database. Created a database named 'hotel_revenue' and imported three years of reservation data using Table import wizard.

    CREATE DATABASE hotel_revenue;

### Creating a Temporary table
To ease up the analysis, created a temporary table named 'revenue' by adding all three years of reservation data using UNION and joining dicount & meal cost to that using LEFT JOIN as we need to preserve all the data from the left most table.

    CREATE TEMPORARY TABLE revenue AS (
    (SELECT *
    FROM (SELECT * FROM hotel_revenue.revenue2018
    UNION
    SELECT * FROM hotel_revenue.revenue2019
    UNION
    SELECT * FROM hotel_revenue.revenue2020) reservation
    LEFT JOIN hotel_revenue.market_discount
    ON reservation.market_segment = market_discount.segment
    LEFT JOIN hotel_revenue.meal_cost
    ON reservation.meal = meal_cost.meal_type));

### Revenue
First we will look at the revenue generated by year using the following query.

    SELECT arrival_date_year, ROUND(SUM(((stays_in_weekend_nights + stays_in_week_nights) * (adr - adr*Discount)) +       ((adults + children)*cost)), 2) AS revenue
    FROM hotel_revenue.revenue
    WHERE is_canceled != 1
    GROUP BY arrival_date_year;

It's understandable that the year 2019 having the most revenue as it's the only year with entire year of data while the other years had few months less.

![revenue_by_year](files\revenue_by_year.jpg)

Seggregating the data further tells that City Hotel brings in more revenue despite falling behind Resort Hotel in the initial year.

![revenue_by_hotel](files\revenue_by_hotel.jpg)

Query used is below.

    SELECT hotel, arrival_date_year, ROUND(SUM(((stays_in_weekend_nights + stays_in_week_nights) * (adr - adr*Discount)) + ((adults + children)*cost)), 2) AS revenue
    FROM hotel_revenue.revenue
    WHERE is_canceled != 1
    GROUP BY hotel, arrival_date_year
    ORDER BY hotel;

### Parking Space requirements
    SELECT arrival_date_year AS year, arrival_date_month AS month, SUM(required_car_parking_spaces) AS parking_spaces
    FROM hotel_revenue.revenue
    WHERE is_canceled != 1
    GROUP BY arrival_date_month, arrival_date_year;

Looking at the data queried, July & August have seen most parking space requirements. Other than that, the car parking requirment has been steady without any fall or increase in the space requirment. So, increasing the parking space anytime soon won't be necessary.

### Cancellations
    SELECT hotel, ROUND((COUNT(is_canceled)/100748)*100, 2) AS 'cancellation_percent'
    FROM hotel_revenue.revenue
    WHERE is_canceled = 1
    GROUP BY is_canceled, hotel;

This query tells that Resort Hotel had a cancellation of 9.24% while City Hotel had almost double cancellations of 17.33%.

    SELECT hotel, arrival_date_year, ROUND((COUNT(is_canceled)/100748)*100, 2) AS 'cancellation_percent'
    FROM hotel_revenue.revenue
    WHERE is_canceled = 1
    GROUP BY is_canceled, hotel, arrival_date_year
    ORDER BY hotel;

![cancellation_by_year](files\cancellations_by_year.jpg)

While seggregating it by year tells us that the trend of cancellation is increasing.
